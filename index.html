<!doctype html>
<html lang="en">
	<head>
        <title>BMS real data</title>
        <link rel="stylesheet" type="text/css" href="/bootstrap.css">
        <!--<link rel="stylesheet" type="text/css" href="/slider.css">-->
        <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
        <script src='/socket.io/socket.io.js'></script>
        <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
        <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"  type="text/javascript"></script>
        <script src="/bootstrap-slider.js"  type="text/javascript"></script>
        <script type="text/javascript">
            jQuery(document).ready(function() {
                jQuery('#foo').slider();
            });   
        </script>
        
        <script>
            var socket = io();

            socket.on('error', function(data) {
                addMessage('ERROR');
            });
            
            socket.on('data', function(data) {
                addMessage(data);
            });

            function addMessage(message) {
            	var komorka = message.split(";",3); 
            	var resultsTable = document.getElementById('table');

            	//usuwanie ostatniego wiersza
            	for(var i = 2; i < resultsTable.rows.length;){   
               		resultsTable.deleteRow(i);
            	}

                var row = resultsTable.insertRow(2);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
            	var cell3 = row.insertCell(2);
                cell1.innerHTML = komorka[0];
                cell2.innerHTML = komorka[1];
                cell3.innerHTML = komorka[2];
            }	
        </script>
          <script>
  $(function() {
    $( "[id^=slider]" ).slider();
  });
  </script>
    </head>
    <body>
    <div class="container">
        <ul id='messages'></ul>
		<table id="table" class="table table-hover">
			<tr>
				<td colspan="3">Last Flight Data</td>
			</tr>
			<tr>
				<td>Pitch</td>
				<td>Roll</td>
				<td>Yaw</td>
			</tr>
		</table>
        <p>L1:<div id="slider0"></div></p>
        <p>L2:<div id="slider1"></div></p>
        <p>L3:<div id="slider2"></div></p>
        <p>L4:<div id="slider3"></div></p>
        <p>L5:<div id="slider4"></div></p>
        <p>L6:<div id="slider5"></div></p>
        </div>
    </body>
</html>