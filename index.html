<!doctype html>
<html lang="en">
	<head>
        <title>BMS real data</title>
        <link rel="stylesheet" type="text/css" href="/bootstrap.css">
        <script src='/socket.io/socket.io.js'></script>
        <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
        <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"  type="text/javascript"></script>
        <script type="text/javascript">
            jQuery(document).ready(function() {
                jQuery('#foo').slider();
            });   
        </script>
        
        <script>
            var socket = io();

            socket.on('error', function(data) {
                addMessage('ERROR');
            });
            
            socket.on('data', function(data) {
                addMessage(data);
            });

            function addMessage(message) {
            	var komorka = message.split(";",3); 
            	var resultsTable = document.getElementById('table');

            	//usuwanie ostatniego wiersza
            	for(var i = 2; i < resultsTable.rows.length;){   
               		resultsTable.deleteRow(i);
            	}

                var row = resultsTable.insertRow(2);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
            	var cell3 = row.insertCell(2);
                cell1.innerHTML = komorka[0];
                cell2.innerHTML = komorka[1];
                cell3.innerHTML = komorka[2];
            }	
        </script>
    </head>
    <body>
    <div class="container">
        <ul id='messages'></ul>
		<table id="table" class="table table-hover">
			<tr>
				<td colspan="3">Last Flight Data</td>
			</tr>
			<tr>
				<td>Pitch</td>
				<td>Roll</td>
				<td>Yaw</td>
			</tr>
		</table>
        <p>
            <input type="text" id="foo" class="span2" value="" data-slider-min="-20" data-slider-max="20" data-slider-step="1" data-slider-value="-14" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide">
            </p>
            <p>
                <input type="text" id="foo1" class="span2" value="" data-slider-min="-20" data-slider-max="20" data-slider-step="1" data-slider-value="-14" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide">
            </p>
            <p>
                <input type="text" id="foo2" class="span2" value="" data-slider-min="-20" data-slider-max="20" data-slider-step="1" data-slider-value="-14" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide">
            </p>
            <p>
                <input type="text" id="foo3" class="span2" value="" data-slider-min="-20" data-slider-max="20" data-slider-step="1" data-slider-value="-14" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide">
            </p>
            <p>
                <input type="text" id="foo4" class="span2" value="" data-slider-min="-20" data-slider-max="20" data-slider-step="1" data-slider-value="-14" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide">
            </p>
            <p>
                <input type="text" id="foo5" class="span2" value="" data-slider-min="-20" data-slider-max="20" data-slider-step="1" data-slider-value="-14" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide">
            </p>
        </div>
    </body>
</html>