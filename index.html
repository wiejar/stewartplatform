<!doctype html>
<html>
	<head>
        <script src='/socket.io/socket.io.js'></script>
        <script>
            var socket = io();

            socket.on('error', function(data) {
                addMessage('ERROR');
            });
            
            socket.on('data', function(data) {
                addMessage(data);
            });

            function addMessage(message) {

	var komorka = message.split(";",3); 

	var resultsTable = document.getElementById('tabelka');

	//usuwanie ostatniego wiersza
	for(var i = 2; i < resultsTable.rows.length;){   
   		resultsTable.deleteRow(i);
		
	}
	

    var row = resultsTable.insertRow(2);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
	var cell3 = row.insertCell(2);
    cell1.innerHTML = komorka[0];
    cell2.innerHTML = komorka[1];
cell3.innerHTML = komorka[2];
            }	
        </script>
    </head>
    <body bgcolor=gold>
        <ul id='messages'></ul>
		<table id="tabelka" align="center" border="1" cellspacing="6" width="600" height="100" style="text-align: center;">
			<tr>
				<td colspan="3">Last Flight Data</td>
			</tr>
			<tr>
				<td>Pitch</td>
				<td>Roll</td>
				<td>Yaw</td>
			</tr>
		</table>
    </body>
</html>